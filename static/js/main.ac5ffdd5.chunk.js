(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(t,e,a){t.exports=a(38)},28:function(t,e,a){},38:function(t,e,a){"use strict";a.r(e);var n=a(1),r=a.n(n),c=a(19),o=a.n(c),i=(a(28),a(7)),d=a(8),l=a(11),m=a(9),s=a(12),u=a(10),y=a(4),h=a(2),p=Object(h.b)(function(t){return{chart:t.chart}},function(t){return{changeChart:function(e){t({type:"CHANGE_CHART",day:e})}}})(function(t){var e,a=(e=t.day.weather.slice()).sort(function(t,a){return e.filter(function(e){return e===t}).length-e.filter(function(t){return t===a}).length}).pop();console.log(a,t.day.name);return r.a.createElement("div",{className:"card day col s6 m3 l2 ".concat(t.chart===t.day.name?"active":null),onClick:function(){t.changeChart(t.day)}},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"title flow-text"},t.day.name),r.a.createElement("img",{src:"https://openweathermap.org/img/w/".concat("Light snow"===a?"13d":"Clear"===a?"01d":"Clouds"===a?"02d":"Scattered clouds"===a?"03d":"Broken clouds"===a?"04d":"Shower rain"===a?"09d":"Rain"===a?"10d":"Thunderstorm"===a?"11d":"Snow"===a?"13d":"Mist "===a?"50d":"10d",".png"),alt:"icon"}),r.a.createElement("div",{className:"temp flow-text"},r.a.createElement("span",{className:"high"},Math.round(Math.max.apply(Math,Object(y.a)(t.day.temp_max))),"\xb0"),r.a.createElement("span",{className:"low"},Math.round(Math.min.apply(Math,Object(y.a)(t.day.temp_min))),"\xb0"))))}),b=a(21),O=a.n(b),f=Object(h.b)(function(t){return{data:t}})(function(t){var e=t.data,a={options:{chart:{shadow:{enabled:!0,color:"#000",top:18,left:7,blur:10,opacity:1},toolbar:{show:!1}},colors:["#77B6EA","#545454"],dataLabels:{enabled:!0},stroke:{curve:"smooth"},title:{text:e.cityName+" - "+e.country,align:"left",offsetY:10,offsetX:30},grid:{borderColor:"#e7e7e7",row:{colors:["#f3f3f3","transparent"],opacity:.5}},markers:{size:6},xaxis:{categories:t.day.date,title:{text:t.day.day+" - "+t.day.chart_discri_day,style:{fontSize:"20px",color:"#263238"}}},yaxis:{title:{text:"Temperature"},min:Math.round(Math.min.apply(Math,Object(y.a)(t.day.temp_min)))-2,max:Math.round(Math.max.apply(Math,Object(y.a)(t.day.temp_max)))+2,labels:{formatter:function(t){return Math.round(t)+"\xb0"}}},legend:{position:"top",horizontalAlign:"right",floating:!0,offsetY:-30,offsetX:0}},series:[{name:"Max temp",data:t.day.temp_max},{name:"Min temp",data:t.day.temp_min}]};return e.chart===t.day.name?r.a.createElement("div",{id:"chart"},r.a.createElement(O.a,{options:a.options,series:a.series,type:"line",height:"350"})):null}),j=function(t){function e(){var t,a;Object(i.a)(this,e);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(l.a)(this,(t=Object(m.a)(e)).call.apply(t,[this].concat(r)))).state={name:"krakow",code:"pl"},a.handlerChange=function(t){a.setState(Object(u.a)({},t.target.id,t.target.value))},a.handlerClick=function(t){t.preventDefault(),a.state.name.length>0&&a.state.code.length>0?a.props.getWeather(a.state):a.props.formError()},a}return Object(s.a)(e,t),Object(d.a)(e,[{key:"componentDidMount",value:function(){this.props.getWeather(this.state)}},{key:"render",value:function(){var t=this.props.data;return r.a.createElement("div",{className:"container row"},r.a.createElement("div",{className:"card red-white col s12 m12 l12"},r.a.createElement("form",{onSubmit:this.handlerClick},r.a.createElement("div",{className:"input-field col s12 m6 "},r.a.createElement("input",{id:"name",type:"text",onChange:this.handlerChange}),r.a.createElement("label",{htmlFor:"name"},"City Name")),r.a.createElement("div",{className:"input-field col s6 m4"},r.a.createElement("input",{id:"code",type:"text",onChange:this.handlerChange}),r.a.createElement("label",{htmlFor:"code"},"Country Code")),r.a.createElement("div",{className:"input-field col s6 m2"},r.a.createElement("button",{type:"submit",className:"waves-effect waves-light btn-large light-blue lighten-2",onClick:this.handlerClick},r.a.createElement("i",{className:"material-icons"},"search"))))),t.Error?r.a.createElement("div",{className:"red-text col s12 m12 l12"},t.Error):null,r.a.createElement("div",{className:"card col s12 m12 l12"},t.days&&t.days.map(function(t){return 0!==t.date.length?r.a.createElement(f,{day:t,key:t.id}):null})),t.days&&t.days.map(function(t){return 0!==t.date.length?r.a.createElement(p,{day:t,key:t.id}):null}))}}]),e}(n.Component),E=Object(h.b)(function(t){return{data:t}},function(t){return{getWeather:function(e){t(function(t){return function(e){fetch("https://api.openweathermap.org/data/2.5/forecast?q=".concat(t.name,",").concat(t.code,"&APPID=6f7f051af44ea396d568620c70082877")).then(function(t){return t.json()}).then(function(t){e({type:"GET_WEATHER",data:t})}).catch(function(t){e({type:"GET_WEATHER_ERROR",error:t})})}}(e))},formError:function(){t({type:"FORM_ERROR"})}}})(j),g=function(t){function e(){return Object(i.a)(this,e),Object(l.a)(this,Object(m.a)(e).apply(this,arguments))}return Object(s.a)(e,t),Object(d.a)(e,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(35);var w=a(6),v=a(0),_=a(15),x=a.n(_),N={chart:"",country:"",cityName:"",Error:null},C=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,e=arguments.length>1?arguments[1]:void 0;if("GET_WEATHER"!==e.type)return"GET_WEATHER_ERROR"===e.type?(console.log("Get weather ERROR",e.error),Object(v.a)({},t,{Error:"City not found"})):"FORM_ERROR"===e.type?(console.log("form error"),Object(v.a)({},t,{Error:"You must fill all inputs"})):"CHANGE_CHART"===e.type?(console.log("chart changed"),Object(v.a)({},t,{chart:e.day.name})):t;var a=function(){console.log(e.data);for(var a=e.data.list,n={date:[],temp_min:[],temp_max:[],weather:[],day:"Monday",name:"Mon",id:1},r={date:[],temp_min:[],temp_max:[],weather:[],day:"Tuesday",name:"Tue",id:2},c={date:[],temp_min:[],temp_max:[],weather:[],day:"Wednesday",name:"Wed",id:3},o={date:[],temp_min:[],temp_max:[],weather:[],day:"Thursday",name:"Thu",id:4},i={date:[],temp_min:[],temp_max:[],weather:[],day:"Friday",name:"Fri",id:5},d={date:[],temp_min:[],temp_max:[],weather:[],day:"Saturday",name:"Sat",id:6},l={date:[],temp_min:[],temp_max:[],weather:[],day:"Sunday",name:"Sun",id:7},m=0;m<a.length;m++){var s=function(t,e){t.date.push(x()(new Date(a[e].dt_txt)).format("LT")),t.temp_min.push((Math.round(100*(a[e].main.temp_min-273.15))/100).toFixed(1)),t.temp_max.push(Number((Math.round(100*(a[e].main.temp_max-273.15))/100).toFixed(1))),t.weather.push(a[e].weather[0].main),t.chart_discri_day=x()(new Date(a[e].dt_txt)).format("LL")};0===new Date(a[m].dt_txt).getDay()?s(l,m):1===new Date(a[m].dt_txt).getDay()?s(n,m):2===new Date(a[m].dt_txt).getDay()?s(r,m):3===new Date(a[m].dt_txt).getDay()?s(c,m):4===new Date(a[m].dt_txt).getDay()?s(o,m):5===new Date(a[m].dt_txt).getDay()?s(i,m):6===new Date(a[m].dt_txt).getDay()&&s(d,m)}var u=new Date(a[0].dt_txt).getDay();return 0===u?{v:Object(v.a)({},t,{days:[Object(v.a)({},l),Object(v.a)({},n),Object(v.a)({},r),Object(v.a)({},c),Object(v.a)({},o),Object(v.a)({},i),Object(v.a)({},d)],chart:"Sun",country:e.data.city.country,cityName:e.data.city.name,Error:null})}:1===u?{v:Object(v.a)({},t,{days:[Object(v.a)({},n),Object(v.a)({},r),Object(v.a)({},c),Object(v.a)({},o),Object(v.a)({},i),Object(v.a)({},d),Object(v.a)({},l)],chart:"Mon",country:e.data.city.country,cityName:e.data.city.name,Error:null})}:2===u?{v:Object(v.a)({},t,{days:[Object(v.a)({},r),Object(v.a)({},c),Object(v.a)({},o),Object(v.a)({},i),Object(v.a)({},d),Object(v.a)({},l),Object(v.a)({},n)],chart:"Tue",country:e.data.city.country,cityName:e.data.city.name,Error:null})}:3===u?{v:Object(v.a)({},t,{days:[Object(v.a)({},c),Object(v.a)({},o),Object(v.a)({},i),Object(v.a)({},d),Object(v.a)({},l),Object(v.a)({},n),Object(v.a)({},r)],chart:"Wed",country:e.data.city.country,cityName:e.data.city.name,Error:null})}:4===u?{v:Object(v.a)({},t,{days:[Object(v.a)({},o),Object(v.a)({},i),Object(v.a)({},d),Object(v.a)({},l),Object(v.a)({},n),Object(v.a)({},r),Object(v.a)({},c)],chart:"Thu",country:e.data.city.country,cityName:e.data.city.name,Error:null})}:5===u?{v:Object(v.a)({},t,{days:[Object(v.a)({},i),Object(v.a)({},d),Object(v.a)({},l),Object(v.a)({},n),Object(v.a)({},r),Object(v.a)({},c),Object(v.a)({},o)],chart:"Fri",country:e.data.city.country,cityName:e.data.city.name,Error:null})}:6===u?{v:Object(v.a)({},t,{days:[Object(v.a)({},d),Object(v.a)({},l),Object(v.a)({},n),Object(v.a)({},r),Object(v.a)({},c),Object(v.a)({},o),Object(v.a)({},i)],chart:"Sat",country:e.data.city.country,cityName:e.data.city.name,Error:null})}:{v:t}}();return"object"===typeof a?a.v:void 0},M=a(22),R=Object(w.c)(C,Object(w.a)(M.a));o.a.render(r.a.createElement(h.a,{store:R},r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[23,2,1]]]);
//# sourceMappingURL=main.ac5ffdd5.chunk.js.map